import{i as f}from"./index-93dc7d7c.js";import{_ as R,r as g,o as b,a as S,b as v,c as H,f as z,g as y,w as _,d as m}from"./index-ba8f035c.js";const x="中国高铁全车型技术谱系",E=[{name:"庞巴迪系",tech_source:"Regina/Zefiro平台",children:[{name:"CRH1系列",children:[{name:"CRH1A",type:"标准型"},{name:"CRH1B",type:"长编组型"},{name:"CRH1E",type:"卧铺型"},{name:"CRH1A-A",type:"统型化改进"}]},{name:"CRH380D",tech_source:"Zefiro 380平台"},{name:"城际衍生系",children:[{name:"CRH6A",type:"城际标准型"},{name:"CRH6A-A",type:"小编组城际型"}]}]},{name:"新干线系",tech_source:"E2-1000平台",children:[{name:"CRH2系列",children:[{name:"CRH2A",type:"基础型"},{name:"CRH2B",type:"长编组型"},{name:"CRH2C",type:"提速试验型"},{name:"CRH2E",type:"卧铺型"},{name:"CRH2G",type:"高寒抗风沙型"},{name:"检测车型",children:[{name:"CRH2J",type:"综合检测车"}]}]},{name:"CRH380A系列",tech_source:"自主升级版",children:[{name:"CRH380A",type:"标准型"},{name:"CRH380AL",type:"长编组型"},{name:"CRH380AN",type:"高寒型"},{name:"CRH380AJ",type:"检测车型"}]}]},{name:"西门子系",tech_source:"Velaro平台",children:[{name:"CRH3系列",children:[{name:"CRH3C",type:"原型车"},{name:"CRH3A",type:"城际改进型"},{name:"CRH3A-A",type:"统型化改进"}]},{name:"CRH380B系列",children:[{name:"CRH380B",type:"标准型"},{name:"CRH380BL",type:"长编组型"},{name:"CRH380BG",type:"高寒型"},{name:"CRH380BJ",type:"检测车型"}]},{name:"CRH380CL",tech_source:"Velaro+新干线技术融合"}]},{name:"阿尔斯通系",tech_source:"Pendolino平台",children:[{name:"CRH5系列",children:[{name:"CRH5A",type:"标准型"},{name:"CRH5G",type:"高寒型"},{name:"CRH5E",type:"卧铺型"},{name:"CRH5J",type:"检测车型"}]}]},{name:"自主创新系",tech_source:"技术消化吸收",children:[{name:"CR300系列",children:[{name:"CR300AF",type:"四方平台"},{name:"CR300BF",type:"长客平台"}]},{name:"CR400系列",children:[{name:"CR400AF家族",children:[{name:"CR400AF",type:"基础型"},{name:"CR400AF-A/B/C",type:"编组扩展型"},{name:"CR400AF-Z",type:"智能型"},{name:"CR400AF-AE",type:"卧铺型"},{name:"CR400AF-J",type:"检测车型"}]},{name:"CR400BF家族",children:[{name:"CR400BF",type:"基础型"},{name:"CR400BF-A/B/C",type:"编组扩展型"},{name:"CR400BF-Z",type:"智能型"},{name:"CR400BF-G",type:"高寒型"},{name:"CR400BF-J",type:"检测车型"}]}]},{name:"特殊车型",children:[{name:"CR200J",tech_source:"动力集中式"},{name:"CJ6",tech_source:"城际专用平台"},{name:"CRH380AM",tech_source:"试验型超高速"}]}]}],A={name:x,children:E};const T={__name:"TechForceGraph",setup(B){const d=g(null);let e=null;const s=a=>{const i=[],n=[],l=(t,r=null,c=null)=>{const u=t.name,h=t.tech_source||c;i.push({id:u,name:t.name,tech_source:h,type:t.type,symbolSize:t.children?20:10,itemStyle:{color:p(h)}}),r&&n.push({source:r,target:u,lineStyle:{color:"#aaa",width:1}}),t.children&&t.children.forEach(C=>l(C,u,h))};return l(a),{nodes:i,links:n}},p=a=>({庞巴迪系:"#4F94CD",新干线系:"#6FCF97",西门子系:"#A285D1",阿尔斯通系:"#F2B84B",自主创新系:"#EB5757"})[a]||"#999",o=()=>{if(!d.value)return;e=f(d.value);const{nodes:a,links:i}=s(A),n={backgroundColor:"#fff",tooltip:{trigger:"item",formatter:l=>{const t=l.data;let r=`<strong>${t.name}</strong>`;return t.tech_source&&(r+=`<br/>技术来源: ${t.tech_source}`),t.type&&(r+=`<br/>类型: ${t.type}`),r}},series:[{type:"graph",layout:"force",data:a,links:i,roam:!0,draggable:!0,focusNodeAdjacency:!0,force:{repulsion:200,edgeLength:100,gravity:.1},label:{show:!0,position:"right",fontSize:12},emphasis:{scale:!0,label:{fontWeight:"bold",fontSize:13},itemStyle:{borderWidth:3,borderColor:"#000",shadowColor:"rgba(0,0,0,0.3)",shadowBlur:10}},lineStyle:{color:"source",curveness:.3}}]};e.setOption(n)};return b(()=>{o(),window.addEventListener("resize",()=>e==null?void 0:e.resize())}),S(()=>{e==null||e.dispose(),window.removeEventListener("resize",()=>e==null?void 0:e.resize())}),(a,i)=>(v(),H("div",{ref_key:"chartRef",ref:d,class:"chart-container"},null,512))}},L=R(T,[["__scopeId","data-v-ddcc495c"]]);const D={__name:"TechSunburstChart",setup(B){const d=g(null);let e=null;const s=["#5470C6","#91CC75","#EE6666","#73C0DE","#FAC858","#3BA272","#FC8452","#9A60B4","#EA7CCC"],p=n=>{let l=0;const t=(r,c=0,u=null)=>{const h=c===1?s[l++%s.length]:u;return r.itemStyle={color:h},r.children&&r.children.forEach(C=>t(C,c+1,h)),r};return t(n)},o=n=>!n.children||n.children.length===0?1:n.children.reduce((l,t)=>l+o(t),0),a=n=>{var r;const l=(c,u=0)=>{var w;const h=o(c),C={name:c.name,value:h,depth:u,_tech_source:c.tech_source,_type:c.type};return((w=c.children)==null?void 0:w.length)>0&&(C.children=c.children.map(F=>l(F,u+1))),C},t=l(n);return t.value=((r=t.children)==null?void 0:r.reduce((c,u)=>c+u.value,0))||1,p(t)},i=()=>{if(!d.value)return;e=f(d.value);const n=a(A),l={tooltip:{trigger:"item",formatter:t=>{const r=t.data;let c=`<strong>${r.name}</strong>`;return r._tech_source&&(c+=`<br/>技术来源: ${r._tech_source}`),r._type&&(c+=`<br/>类型: ${r._type}`),c}},series:[{type:"sunburst",radius:["10%","95%"],center:["50%","50%"],data:n.children,colorMappingBy:"ancestor",levels:[{},{r0:"10%",r:"35%",itemStyle:{borderWidth:2,borderColor:"#fff",opacity:.9},label:{rotate:0,fontSize:12,color:"#fff"}},{r0:"35%",r:"65%",itemStyle:{borderWidth:2,borderColor:"#eee",opacity:.85},label:{rotate:"radial",fontSize:11,overflow:"truncate"}},{r0:"65%",r:"95%",itemStyle:{borderWidth:1,borderColor:"#ddd",opacity:.8,borderRadius:4},label:{position:"outside",fontSize:10,overflow:"truncate",color:"#444"},labelLayout:{hideOverlap:!0}}],label:{show:!0,minAngle:5,fontWeight:"normal"},nodeClick:"zoomToNode",emphasis:{focus:"ancestor",itemStyle:{borderWidth:3,borderColor:"#000",shadowBlur:10,shadowColor:"rgba(0, 0, 0, 0.3)"},label:{fontWeight:"bold",color:"#000"}}}]};e.setOption(l)};return b(()=>{i(),window.addEventListener("resize",()=>e==null?void 0:e.resize())}),S(()=>{e==null||e.dispose(),window.removeEventListener("resize",()=>e==null?void 0:e.resize())}),(n,l)=>(v(),H("div",{ref_key:"chartRef",ref:d,class:"chart-container"},null,512))}},$=R(D,[["__scopeId","data-v-fe40d7cf"]]);const k={class:"tech-tree"},N={__name:"TechTree",setup(B){const d=g(null);return b(()=>{const e=f(d.value),s={庞巴迪系:"#1890ff",新干线系:"#52c41a",西门子系:"#722ed1",阿尔斯通系:"#fa8c16",自主创新系:"#f5222d"},p={tooltip:{trigger:"item",triggerOn:"mousemove",formatter:o=>{let a=`<strong>${o.data.name}</strong>`;return o.data.tech_source&&(a+=`<br/>技术来源: ${o.data.tech_source}`),o.data.type&&(a+=`<br/>类型: ${o.data.type}`),a}},series:[{type:"tree",data:[A],layout:"radial",orient:"LR",initialTreeDepth:2,symbolSize:12,itemStyle:{color:o=>{var i;const a=o.data.name;for(const n in s)if(a===n||(i=o.data.tech_source)!=null&&i.includes(n))return s[n];return"#666"}},lineStyle:{color:"#ccc",width:1.5,curveness:.5},label:{show:!0,position:"right",distance:5,fontSize:13,color:"#333",formatter:o=>{let a=o.data.name;return o.data.type&&(a+=`
`+o.data.type),a},overflow:"truncate",width:120},labelLayout:{hideOverlap:!0},emphasis:{focus:"descendant",scale:!0},expandAndCollapse:!0,animationDuration:550,animationDurationUpdate:750,roam:!0,nodeGap:30,radius:"60%"}]};e.setOption(p),window.addEventListener("resize",()=>{e.resize()})}),(e,s)=>{const p=z("el-card");return v(),H("div",k,[y(p,null,{header:_(()=>s[0]||(s[0]=[m("div",{class:"card-header"},[m("span",null,"中国高铁技术谱系关系图")],-1)])),default:_(()=>[m("div",{ref_key:"treeChartRef",ref:d,style:{height:"1000px"}},null,512)]),_:1}),y(p,{style:{"margin-top":"20px"}},{header:_(()=>s[1]||(s[1]=[m("div",{class:"card-header"},[m("span",null,"高铁技术关联网络图")],-1)])),default:_(()=>[y(L)]),_:1}),y(p,{style:{"margin-top":"20px"}},{header:_(()=>s[2]||(s[2]=[m("div",{class:"card-header"},[m("span",null,"高铁技术谱系旭日图")],-1)])),default:_(()=>[y($)]),_:1})])}}},W=R(N,[["__scopeId","data-v-b8997c0f"]]);export{W as default};
